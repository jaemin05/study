# Monolithic vs SOA vs MSA

## 모놀리식 아키택쳐

### 📌 정의

+ **하나의 서버**에 **다양한 기능**이 위치해있다.
+ 컴포넌트들이 하나의 프로젝트에서 관리되고 **하나의 공통된 DB**를 가지고 있다.

+ 과거 대부분의 서비스는 모놀리식 아키택쳐로 구성되어 있다.

### 👍 장점

+ 인프라의 구성이나 운용이 쉽다.
+ 테스트와 파이프라인 구성이 쉽다.

### 👎 단점

+ **서비스와 서비스 사이에 의존성**이 존재하기 때문에 코드의 **일부만 수정해도 전체를 Build**하고 Packaging 해야 한다.

![image-20220613085400029](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20220613085400029.png)

---

## SOA

### 📌 정의

+ **서비스 지향 아키텍처(SOA)**는 네트워크에서 **공통의 통신 언어**를 사용하는 서비스 인터페이스를 활용하여 **소프트웨어 구성 요소를 다시 사용**할 수 있게 만드는 소프트웨어 설계 유형입니다.
+ **ESB(Enterprise Service Bus)**는 서비스들을 컴포넌트화된 **논리적 집합으로 묶는 미들웨어**로 이벤트 및 서비스에 대한 요청과 처리를 **중개**하여 인프라 전체 스트럭처에 분포되게한다.

### 👍 장점

+ **결합도가 낮다.**
+ 각각의 모듈의 **재사용성**을 높인다.
+ 버스 형태에 연결한다면 확장성과 유연성이 증가한다.

### 👎 단점

+ 하나의 DB를 사용한다. → 의존성이 생긴다.

  ![image-20220613090437656](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20220613090437656.png)

---

## MSA

### 📌 정의

+ **독립적 배포가 가능**하고, **스스로 돌아갈 수 있는 작은 서비스**이다.

+ 서비스들이 비즈니스 단위로 나누어져야 한다.

+ 서비스들은 **서로 다른 언어나 DB로 만들 수 있다.**

+ 각각의 서비스들이 **API를 통해 데이터를 주고받는다.**

### 👍 장점

+ 최소한의 의존성을 가진다.
+ 부분의 장애가 전체 서비스로 확장될 가능성이 적다.
+ 개별적 scale-out이 가능하다.

### 👎 단점

+ 많이 복잡하다.
+ 서비스마다 분리된 DB들 간의 트랜잭션 관리가 어렵다.

![image-20220613091417155](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20220613091417155.png)

---

![image-20220613091405682](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20220613091405682.png)

